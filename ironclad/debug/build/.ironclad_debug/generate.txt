Phase: generate
Message: Model output was not valid JSON

RAW DATA:
{
    "filename": "compile_email_pattern.py",
    "code": "def compile_email_pattern():
    import re
    pattern = r\"^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)+$\" 
    return re.compile(pattern)",
    "test": "def test_compile_email_pattern():
    import re
    from compile_email_pattern import compile_email_pattern

    pattern = compile_email_pattern()
    assert isinstance(pattern, re.Pattern)

    valid_emails = [
        'user@example.com',
        'user.name+tag+sorting@example.com',
        'user_name@example.co.uk',
        'user-name@example.org',
    ]
    for email in valid_emails:
        assert pattern.match(email), f\"Valid email '{email}' did not match\"

    invalid_emails = [
        'plainaddress',
        '@missinguser.com',
        'username@',
        'user@.com',
        'user@com',
        'user@localhost',
        '',
    ]
    for email in invalid_emails:
        assert not pattern.match(email), f\"Invalid email '{email}' unexpectedly matched\""
}